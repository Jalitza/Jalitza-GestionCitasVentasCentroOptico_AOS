<div class="profile-container" *ngIf="!loading">
  <div *ngIf="!editando">
    <h2>Mi Perfil</h2>
    
    <div class="profile-info">
      <div class="avatar" *ngIf="usuario.photoURL">
        <img [src]="usuario.photoURL" alt="Foto de perfil" class="profile-image">
      </div>
      
      <div class="info-group">
        <label>Nombre:</label>
        <p>{{usuario.nombre}} {{usuario.apellido}}</p>
      </div>
      
      <div class="info-group">
        <label>Email:</label>
        <p>{{usuario.email}}</p>
      </div>
      
      <div class="info-group">
        <label>Teléfono:</label>
        <p>{{usuario.telefono || 'No proporcionado'}}</p>
      </div>
      
      <div class="info-group">
        <label>Método de autenticación:</label>
        <p>{{usuario.proveedor | titlecase}}</p>
      </div>
      
      <div class="action-buttons">
        <button class="edit-button" (click)="iniciarEdicion()">Editar Perfil</button>
      </div>
    </div>
  </div>

  <div *ngIf="editando" class="edit-form">
    <h2>Editar Perfil</h2>
    
    <form (ngSubmit)="guardarCambios()" class="profile-form">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" [(ngModel)]="usuario.nombre" name="nombre" required class="form-input">
      </div>
      
      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" id="apellido" [(ngModel)]="usuario.apellido" name="apellido" required class="form-input">
      </div>
      
      <div class="form-group">
        <label for="telefono">Teléfono</label>
        <input type="tel" id="telefono" [(ngModel)]="usuario.telefono" name="telefono" class="form-input">
      </div>
      
      <div class="form-actions">
        <button type="button" class="cancel-button" (click)="cancelarEdicion()">Cancelar</button>
        <button type="submit" class="save-button">Guardar Cambios</button>
      </div>
    </form>
  </div>
</div>

<div *ngIf="loading" class="loading">
  <div class="spinner"></div>
  <p>Cargando perfil...</p>
</div>